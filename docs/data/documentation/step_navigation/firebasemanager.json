{"primaryContentSections":[{"kind":"declarations","declarations":[{"tokens":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"FirebaseManager"}],"languages":["swift"],"platforms":["iOS"]}]}],"schemaVersion":{"major":0,"minor":3,"patch":0},"sections":[],"variants":[{"paths":["\/documentation\/step_navigation\/firebasemanager"],"traits":[{"interfaceLanguage":"swift"}]}],"relationshipsSections":[{"identifiers":["doc:\/\/edu.occamlab.STEP-Navigation\/7Combine16ObservableObjectP"],"kind":"relationships","title":"Conforms To","type":"conformsTo"}],"identifier":{"url":"doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager","interfaceLanguage":"swift"},"abstract":[{"type":"text","text":"Manages the data stored in Firebase.  Currently, this includes both Firebase Realtime Database along with Firestore.  In the future, we hope to migrate all data away from Realtime Database."}],"kind":"symbol","metadata":{"fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"FirebaseManager"}],"title":"FirebaseManager","roleHeading":"Class","role":"symbol","symbolKind":"class","externalID":"s:15STEP_Navigation15FirebaseManagerC","modules":[{"name":"STEP Navigation"}],"navigatorTitle":[{"kind":"identifier","text":"FirebaseManager"}]},"hierarchy":{"paths":[["doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation"]]},"topicSections":[{"title":"Instance Properties","identifiers":["doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager\/firstCloudAnchor","doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager\/mapAnchors","doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager\/mapGraph","doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager\/outdoorFeatures"]},{"title":"Instance Methods","identifiers":["doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager\/addConnection(anchorID1:anchor1Pose:anchorID2:anchor2Pose:breadCrumbs:pathAnchors:)","doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager\/deleteCloudAnchor(id:)","doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager\/download(edges:completionHandler:)","doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager\/getCloudAnchorMetadata(byID:)","doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager\/getCloudAnchorName(byID:)","doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager\/queryNearbyAnchors(to:withRadius:)","doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager\/setMode(mode:)","doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager\/storeCloudAnchor(identifier:metadata:)","doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager\/updateCloudAnchor(identifier:metadata:)","doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager\/uploadLog(data:)"]},{"title":"Type Properties","identifiers":["doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager\/shared"]},{"title":"Default Implementations","identifiers":["doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager\/ObservableObject-Implementations"],"generated":true}],"references":{"doc://edu.occamlab.STEP-Navigation/documentation/STEP_Navigation/FirebaseManager/shared":{"role":"symbol","title":"shared","fragments":[{"kind":"keyword","text":"static"},{"kind":"text","text":" "},{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"shared"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"FirebaseManager","preciseIdentifier":"s:15STEP_Navigation15FirebaseManagerC"}],"abstract":[{"type":"text","text":"The singleton instance of this class"}],"identifier":"doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager\/shared","kind":"symbol","type":"topic","url":"\/documentation\/step_navigation\/firebasemanager\/shared"},"doc://edu.occamlab.STEP-Navigation/documentation/STEP_Navigation/FirebaseManager/addConnection(anchorID1:anchor1Pose:anchorID2:anchor2Pose:breadCrumbs:pathAnchors:)":{"role":"symbol","title":"addConnection(anchorID1:anchor1Pose:anchorID2:anchor2Pose:breadCrumbs:pathAnchors:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"addConnection"},{"kind":"text","text":"("},{"kind":"externalParam","text":"anchorID1"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"kind":"externalParam","text":"anchor1Pose"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"simd_float4x4","preciseIdentifier":"c:@SA@simd_float4x4"},{"kind":"text","text":", "},{"kind":"externalParam","text":"anchorID2"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"kind":"externalParam","text":"anchor2Pose"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"simd_float4x4","preciseIdentifier":"c:@SA@simd_float4x4"},{"kind":"text","text":", "},{"kind":"externalParam","text":"breadCrumbs"},{"kind":"text","text":": ["},{"kind":"typeIdentifier","text":"simd_float4x4","preciseIdentifier":"c:@SA@simd_float4x4"},{"kind":"text","text":"], "},{"kind":"externalParam","text":"pathAnchors"},{"kind":"text","text":": ["},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":" : ("},{"kind":"typeIdentifier","text":"CloudAnchorMetadata","preciseIdentifier":"s:15STEP_Navigation19CloudAnchorMetadataV"},{"kind":"text","text":", "},{"kind":"typeIdentifier","text":"simd_float4x4","preciseIdentifier":"c:@SA@simd_float4x4"},{"kind":"text","text":")])"}],"abstract":[{"type":"text","text":"Add a connection between the specified nodes and store it in Firebase."}],"identifier":"doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager\/addConnection(anchorID1:anchor1Pose:anchorID2:anchor2Pose:breadCrumbs:pathAnchors:)","kind":"symbol","type":"topic","url":"\/documentation\/step_navigation\/firebasemanager\/addconnection(anchorid1:anchor1pose:anchorid2:anchor2pose:breadcrumbs:pathanchors:)"},"doc://edu.occamlab.STEP-Navigation/documentation/STEP_Navigation/FirebaseManager/outdoorFeatures":{"role":"symbol","title":"outdoorFeatures","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"outdoorFeatures"},{"kind":"text","text":": ["},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":" : "},{"kind":"typeIdentifier","text":"CLLocationCoordinate2D","preciseIdentifier":"c:@S@CLLocationCoordinate2D"},{"kind":"text","text":"]"}],"abstract":[{"type":"text","text":"Maps outdoor features to location"}],"identifier":"doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager\/outdoorFeatures","kind":"symbol","type":"topic","url":"\/documentation\/step_navigation\/firebasemanager\/outdoorfeatures"},"doc://edu.occamlab.STEP-Navigation/documentation/STEP_Navigation/FirebaseManager/storeCloudAnchor(identifier:metadata:)":{"role":"symbol","title":"storeCloudAnchor(identifier:metadata:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"storeCloudAnchor"},{"kind":"text","text":"("},{"kind":"externalParam","text":"identifier"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"kind":"externalParam","text":"metadata"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"CloudAnchorMetadata","preciseIdentifier":"s:15STEP_Navigation19CloudAnchorMetadataV"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Store the cloud anchor in the database.  The identifier is assumed to be the cloudAnchorID returned"},{"type":"text","text":" "},{"type":"text","text":"by ARCore"}],"identifier":"doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager\/storeCloudAnchor(identifier:metadata:)","kind":"symbol","type":"topic","url":"\/documentation\/step_navigation\/firebasemanager\/storecloudanchor(identifier:metadata:)"},"doc://edu.occamlab.STEP-Navigation/documentation/STEP_Navigation/FirebaseManager/deleteCloudAnchor(id:)":{"role":"symbol","title":"deleteCloudAnchor(id:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"deleteCloudAnchor"},{"kind":"text","text":"("},{"kind":"externalParam","text":"id"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Delete the specified cloud anchor"}],"identifier":"doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager\/deleteCloudAnchor(id:)","kind":"symbol","type":"topic","url":"\/documentation\/step_navigation\/firebasemanager\/deletecloudanchor(id:)"},"doc://edu.occamlab.STEP-Navigation/documentation/STEP_Navigation/FirebaseManager/uploadLog(data:)":{"role":"symbol","title":"uploadLog(data:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"uploadLog"},{"kind":"text","text":"("},{"kind":"externalParam","text":"data"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Data","preciseIdentifier":"s:10Foundation4DataV"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Upload the log data to the storage bucket"}],"identifier":"doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager\/uploadLog(data:)","kind":"symbol","type":"topic","url":"\/documentation\/step_navigation\/firebasemanager\/uploadlog(data:)"},"doc://edu.occamlab.STEP-Navigation/documentation/STEP_Navigation/FirebaseManager/firstCloudAnchor":{"role":"symbol","title":"firstCloudAnchor","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"firstCloudAnchor"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":"?"}],"abstract":[{"type":"text","text":"The first cloud anchor that is currently cached in the "},{"type":"codeVoice","code":"FirebaseManager"},{"type":"text","text":" object.  The notion of first is determined by alphabetically ordering the cloud identifiers"}],"identifier":"doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager\/firstCloudAnchor","kind":"symbol","type":"topic","url":"\/documentation\/step_navigation\/firebasemanager\/firstcloudanchor"},"doc://edu.occamlab.STEP-Navigation/documentation/STEP_Navigation/FirebaseManager/getCloudAnchorName(byID:)":{"role":"symbol","title":"getCloudAnchorName(byID:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"getCloudAnchorName"},{"kind":"text","text":"("},{"kind":"externalParam","text":"byID"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":"?"}],"abstract":[{"type":"text","text":"Get the name of the cloud anchor based on its identifier.  If the cloud anchor has not been downloaded already, this will return nil"}],"identifier":"doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager\/getCloudAnchorName(byID:)","kind":"symbol","type":"topic","url":"\/documentation\/step_navigation\/firebasemanager\/getcloudanchorname(byid:)"},"doc://edu.occamlab.STEP-Navigation/documentation/STEP_Navigation/FirebaseManager/mapAnchors":{"role":"symbol","title":"mapAnchors","fragments":[{"kind":"keyword","text":"var"},{"kind":"text","text":" "},{"kind":"identifier","text":"mapAnchors"},{"kind":"text","text":": ["},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":" : "},{"kind":"typeIdentifier","text":"CloudAnchorMetadata","preciseIdentifier":"s:15STEP_Navigation19CloudAnchorMetadataV"},{"kind":"text","text":"]"}],"abstract":[{"type":"text","text":"Keeps track of the cloud anchor IDs (keys) and associated metadata.  This variable can be observed by views"}],"identifier":"doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager\/mapAnchors","kind":"symbol","type":"topic","url":"\/documentation\/step_navigation\/firebasemanager\/mapanchors"},"doc://edu.occamlab.STEP-Navigation/documentation/STEP_Navigation/FirebaseManager/queryNearbyAnchors(to:withRadius:)":{"role":"symbol","title":"queryNearbyAnchors(to:withRadius:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"queryNearbyAnchors"},{"kind":"text","text":"("},{"kind":"externalParam","text":"to"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"CLLocationCoordinate2D","preciseIdentifier":"c:@S@CLLocationCoordinate2D"},{"kind":"text","text":", "},{"kind":"externalParam","text":"withRadius"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"Double","preciseIdentifier":"s:Sd"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Query for all cloud anchors within a current distance of the specified coordinate.  The results of the query are cached in the "},{"type":"codeVoice","code":"FirebaseManager"},{"type":"text","text":" object and its associated attributes.  This function will not query again if a the last query that was executed was within 100m of the requested point."}],"identifier":"doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager\/queryNearbyAnchors(to:withRadius:)","kind":"symbol","type":"topic","url":"\/documentation\/step_navigation\/firebasemanager\/querynearbyanchors(to:withradius:)"},"doc://edu.occamlab.STEP-Navigation/documentation/STEP_Navigation/FirebaseManager/ObservableObject-Implementations":{"role":"collectionGroup","title":"ObservableObject Implementations","abstract":[],"identifier":"doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager\/ObservableObject-Implementations","kind":"article","type":"topic","url":"\/documentation\/step_navigation\/firebasemanager\/observableobject-implementations"},"doc://edu.occamlab.STEP-Navigation/documentation/STEP_Navigation/FirebaseManager/setMode(mode:)":{"role":"symbol","title":"setMode(mode:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"setMode"},{"kind":"text","text":"("},{"kind":"externalParam","text":"mode"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"FirebaseMode","preciseIdentifier":"s:15STEP_Navigation12FirebaseModeO"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Sets the mode for the database."},{"type":"text","text":" "},{"type":"text","text":"When in .mapping mode: all data is downloaded from the database (which is not optimal).  This choice was made to allow all data to be edited."},{"type":"text","text":" "},{"type":"text","text":"When in .navigation mode: data is downloaded as needed."}],"identifier":"doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager\/setMode(mode:)","kind":"symbol","type":"topic","url":"\/documentation\/step_navigation\/firebasemanager\/setmode(mode:)"},"doc://edu.occamlab.STEP-Navigation/documentation/STEP_Navigation":{"role":"collection","title":"STEP Navigation","abstract":[],"identifier":"doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation","kind":"symbol","type":"topic","url":"\/documentation\/step_navigation"},"doc://edu.occamlab.STEP-Navigation/documentation/STEP_Navigation/FirebaseManager":{"role":"symbol","title":"FirebaseManager","fragments":[{"kind":"keyword","text":"class"},{"kind":"text","text":" "},{"kind":"identifier","text":"FirebaseManager"}],"abstract":[{"type":"text","text":"Manages the data stored in Firebase.  Currently, this includes both Firebase Realtime Database along with Firestore.  In the future, we hope to migrate all data away from Realtime Database."}],"identifier":"doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager","kind":"symbol","type":"topic","navigatorTitle":[{"kind":"identifier","text":"FirebaseManager"}],"url":"\/documentation\/step_navigation\/firebasemanager"},"doc://edu.occamlab.STEP-Navigation/documentation/STEP_Navigation/FirebaseManager/mapGraph":{"role":"symbol","title":"mapGraph","fragments":[{"kind":"keyword","text":"let"},{"kind":"text","text":" "},{"kind":"identifier","text":"mapGraph"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"MapGraph","preciseIdentifier":"s:15STEP_Navigation8MapGraphC"}],"abstract":[{"type":"text","text":"The graph used to encode relationships between cloud anchors and compute shortest paths"}],"identifier":"doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager\/mapGraph","kind":"symbol","type":"topic","url":"\/documentation\/step_navigation\/firebasemanager\/mapgraph"},"doc://edu.occamlab.STEP-Navigation/7Combine16ObservableObjectP":{"type":"unresolvable","title":"Combine.ObservableObject","identifier":"doc:\/\/edu.occamlab.STEP-Navigation\/7Combine16ObservableObjectP"},"doc://edu.occamlab.STEP-Navigation/documentation/STEP_Navigation/FirebaseManager/updateCloudAnchor(identifier:metadata:)":{"role":"symbol","title":"updateCloudAnchor(identifier:metadata:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"updateCloudAnchor"},{"kind":"text","text":"("},{"kind":"externalParam","text":"identifier"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"kind":"externalParam","text":"metadata"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"CloudAnchorMetadata","preciseIdentifier":"s:15STEP_Navigation19CloudAnchorMetadataV"},{"kind":"text","text":")"}],"abstract":[{"type":"text","text":"Update the cloud anchor in the database.  The identifier is assumed to be the cloudAnchorID returned"},{"type":"text","text":" "},{"type":"text","text":"by ARCore"}],"identifier":"doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager\/updateCloudAnchor(identifier:metadata:)","kind":"symbol","type":"topic","url":"\/documentation\/step_navigation\/firebasemanager\/updatecloudanchor(identifier:metadata:)"},"doc://edu.occamlab.STEP-Navigation/documentation/STEP_Navigation/FirebaseManager/getCloudAnchorMetadata(byID:)":{"role":"symbol","title":"getCloudAnchorMetadata(byID:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"getCloudAnchorMetadata"},{"kind":"text","text":"("},{"kind":"externalParam","text":"byID"},{"kind":"text","text":": "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":") -> "},{"kind":"typeIdentifier","text":"CloudAnchorMetadata","preciseIdentifier":"s:15STEP_Navigation19CloudAnchorMetadataV"},{"kind":"text","text":"?"}],"abstract":[{"type":"text","text":"Get the cloud anchor metadata based on its identifier.  If hte cloud anchor has not been downloaded already, this will return nil"}],"identifier":"doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager\/getCloudAnchorMetadata(byID:)","kind":"symbol","type":"topic","url":"\/documentation\/step_navigation\/firebasemanager\/getcloudanchormetadata(byid:)"},"doc://edu.occamlab.STEP-Navigation/documentation/STEP_Navigation/FirebaseManager/download(edges:completionHandler:)":{"role":"symbol","title":"download(edges:completionHandler:)","fragments":[{"kind":"keyword","text":"func"},{"kind":"text","text":" "},{"kind":"identifier","text":"download"},{"kind":"text","text":"("},{"kind":"externalParam","text":"edges"},{"kind":"text","text":": [("},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":", "},{"kind":"typeIdentifier","text":"String","preciseIdentifier":"s:SS"},{"kind":"text","text":")], "},{"kind":"externalParam","text":"completionHandler"},{"kind":"text","text":": ("},{"kind":"typeIdentifier","text":"Bool","preciseIdentifier":"s:Sb"},{"kind":"text","text":") -> ())"}],"abstract":[{"type":"text","text":"Download the path data from Firestore corresponding to the specified edges."}],"identifier":"doc:\/\/edu.occamlab.STEP-Navigation\/documentation\/STEP_Navigation\/FirebaseManager\/download(edges:completionHandler:)","kind":"symbol","type":"topic","url":"\/documentation\/step_navigation\/firebasemanager\/download(edges:completionhandler:)"}}}